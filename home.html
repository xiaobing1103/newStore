<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ç½‘æŠ‘äº‘éŸ³ä¹</title>
    <link rel="stylesheet" href="./font_4386221_x6ma0mgfhxp/iconfont.css" />
    <link rel="stylesheet" href="./css/reset.css" />
    <link rel="stylesheet" href="./css/index.css" />
    <link rel="stylesheet" href="./messageComponents/index.css" />
    <link rel="stylesheet" href="./DropdownComponents/index.css" />
  </head>
  <script src="./data.js"></script>
  <script src="./messageComponents/index.js"></script>
  <script src="./DropdownComponents/index.js"></script>
  <script src="./js/banner.js"></script>
  <body>
    <header class="headerBox">
      <div class="logoBox">
        <div class="logoBox_logo"></div>
        <div class="logoBox_title">ç½‘æŠ‘äº‘éŸ³ä¹</div>
      </div>
      <div class="tabBox">
        <ul id="tabList" class="tabList"></ul>
      </div>
      <div class="searchBox">
        <i class="iconfont icon-icon-test12"></i>
        <input
          class="searchBox_input"
          type="text"
          placeholder="éŸ³ä¹/è§†é¢‘/ç”µå°/ç”¨æˆ·"
        />
      </div>
      <div class="loginBox" id="loginBox">
        <!-- Use this button to open the modal -->
        <div id="login_button" class="base_button_small" onclick="openModal()">
          ç™»é™†
        </div>

        <!-- Dropdown Container -->
        <div class="dropdown-container">
          <!-- Trigger -->
          <div id="dropdown-trigger">
            <div id="user_image" class="user_image">
              <i class="iconfont icon-icon-test35 user_icon"></i>
              <span>å¾®ä¿¡ç”¨æˆ·</span>
            </div>
          </div>
          <!-- Menu -->
          <div id="dropdown-menu" class="dropdown-menu" style="display: none">
            <!-- Items will be added dynamically -->
          </div>
        </div>
      </div>
    </header>
    <div id="selectedBorder" class="selectedBorder"></div>
    <div class="wrapBox">
      <div class="wrap">
        <ul id="wrap-ul">
          <li class="b1">
            <img src="./image/109951169205536352.jpg" alt="" />
          </li>
          <li class="b1">
            <img src="./image/109951169205557404.jpg" alt="" />
          </li>
          <li class="cc">
            <img src="./image/109951169205569634.jpg" alt="" />
          </li>
          <li class="b1">
            <img src="./image/109951169205580103.jpg" alt="" />
          </li>
          <li class="b1">
            <img src="./image/109951169205583093.jpg " alt="" />
          </li>
          <li class="b1">
            <img src="./image/109951169208564764.jpg " alt="" />
          </li>
        </ul>
        <span id="toleft1">&lt;</span>
        <span id="right-btn1">&gt;</span>
      </div>
    </div>
    <section class="newsBox" id="newsBox">
      <header class="newsBox_header" id="newsBox_header"></header>
      <main class="newsBox_main" id="newsBox_main"></main>
    </section>
    <section class="n_new" id="n_new">
      <header class="v_hd2" id="v_hd2"></header>
      <main class="n_new_main" id="n_new_main"></main>
    </section>
    <div id="myModal" class="modal">
      <!-- Modal content -->
      <div class="modal-content">
        <div class="modal_header">
          <div class="modal_header_box">ç™»é™†</div>

          <span class="close">&times;</span>
        </div>
        <section id="modal_main_step1" class="modal_main">
          <div class="modal_main_leftbox">
            <img
              src="https://p5.music.126.net/obj/wo3DlcOGw6DClTvDisK1/9643571155/525c/faac/2dc6/fe695c03c7c358ddaa4651736b26a55f.png"
            />
          </div>
          <div class="modal_main_right">
            <div class="modal_main_right_title">æ‰«ç ç™»é™†</div>
            <div class="modal_main_right_imageBox">
              <img src="./image/ä¸‹è½½.png" alt="" />
            </div>
            <div class="modal_main_right_desc" onclick="changeModalTab()">
              ä½¿ç”¨è´¦å·å¯†ç ç™»å½•
            </div>
          </div>
        </section>
        <section id="modal_main_step2" class="modal_main2">
          <div class="modal_main2_login">
            <div class="user_name" id="userNameBox">
              <label for="userName" class="userNameTip"
                >è¯·è¾“å…¥æ‚¨çš„ç”¨æˆ·å: é»˜è®¤ç”¨æˆ·åadmin</label
              >
              <input type="text" id="userName" oninput="onChangeUsername()" />
              <span class="user_name_tips">ç”¨æˆ·åé”™è¯¯</span>
            </div>

            <div class="user_name" id="passwordBox">
              <label for="userName1" class="userNameTip1"
                >è¯·è¾“å…¥æ‚¨çš„å¯†ç : é»˜è®¤å¯†ç 123456</label
              >
              <input
                type="password"
                id="userName1"
                oninput="onChangePassword()"
              />
              <span class="user_name_password">å¯†ç é”™è¯¯</span>
            </div>
            <div class="base_button_small" onclick="submit()">ç™»å½•</div>
          </div>
        </section>
        <section class="modal_bottom">
          <div
            class="base_button_small"
            id="base_button_small"
            onclick="returnStep1()"
          >
            é€‰æ‹©å…¶ä»–æ¨¡å¼ç™»å½•
          </div>
        </section>
      </div>
    </div>
    <!-- Message Container -->
    <div
      id="message-container"
      style="position: fixed; top: 20px; right: 20px; z-index: 1000"
    ></div>

    <script>
      const tabDom = document.getElementById("tabList");
      const tabListItems = tabDom.getElementsByClassName("tabList_items");
      tabList.forEach((tab, index) => {
        const li = document.createElement("li");
        li.className = "tabList_items";
        li.textContent = tab.title;
        tabDom.appendChild(li);
        tab.show && li.classList.add("active");
      });
      Array.from(tabListItems).forEach((value, i) => {
        value.addEventListener("click", () => {
          removeTab();
          Array.from(tabListItems).forEach((otherLi, index) => {
            otherLi.classList.remove("active");
            tabList[index].show = false;
          });
          value.classList.add("active");
          tabList[i].show = true;
          tabList[i].show && changeTab();
        });
      });

      changeTab();
      function changeTab() {
        const selectedBorder = document.getElementById("selectedBorder");
        tabList.forEach((items) => {
          if (items.children && items.show) {
            items.children.forEach((value) => {
              const li = document.createElement("li");
              li.className = "selectedBorder_List";
              li.textContent = value.title;
              selectedBorder.appendChild(li);
            });
          }
        });
      }

      function removeTab() {
        const selectedBorder = document.getElementById("selectedBorder");
        selectedBorder.innerHTML = "";
      }
      // ç™»é™†é€»è¾‘
      const loginDom = document.getElementById("loginBox");
      loginDom.addEventListener("click", () => {});
      // è·å–å…ƒç´ 
      const modal = document.getElementById("myModal");
      const span = document.getElementsByClassName("close")[0];
      // æ‰“å¼€æ¨¡æ€æ¡†çš„å‡½æ•°
      function openModal() {
        modal.style.display = "block";
      }
      // å…³é—­æ¨¡æ€æ¡†çš„å‡½æ•°
      function closeModal() {
        modal.style.display = "none";
      }
      // ç‚¹å‡» <span> (x), å…³é—­æ¨¡æ€æ¡†
      span.onclick = function () {
        closeModal();
      };
      // ç‚¹å‡»æ¨¡æ€æ¡†å¤–éƒ¨æ—¶ï¼Œä¹Ÿå…³é—­å®ƒ
      // window.onclick = function (event) {
      //   if (event.target == modal) {
      //     closeModal();
      //   }
      // };

      // ç”¨æˆ·å
      function onChangeUsername() {
        console.log(33);
      }
      // å¯†ç 
      function onChangePassword() {
        console.log(11);
      }

      function returnStep1() {
        const step1 = document.getElementById("modal_main_step1");
        const step2 = document.getElementById("modal_main_step2");
        step1.style.display = "flex";
        step2.style.display = "none";
      }
      function changeModalTab() {
        const step1 = document.getElementById("modal_main_step1");
        const step2 = document.getElementById("modal_main_step2");
        step1.style.display = "none";
        step2.style.display = "block";
      }
      // è·å–userNameè¾“å…¥æ¡†å…ƒç´ 
      const userName = document.getElementById("userName");
      const userName1 = document.getElementById("userName1");
      // è·å–userNameæç¤ºå…ƒç´ 
      const userNameTip = document.querySelector(".userNameTip");
      const userNameTip1 = document.querySelector(".userNameTip1");
      // ç„¦ç‚¹äº‹ä»¶å¤„ç†

      // è·å–ç™»å½•æŒ‰é’®
      const login_button = document.getElementById("login_button");
      // è·å–ç”¨æˆ·box
      const user_image = document.getElementById("user_image");

      function submit() {
        const userNameBoxvalue = userName.value;
        const passwordBoxvalue = userName1.value;
        const errorTips = document.getElementsByClassName("user_name_tips")[0];
        const errorTips1 =
          document.getElementsByClassName("user_name_password")[0];
        if (userNameBoxvalue !== "admin" || passwordBoxvalue !== "123456") {
          userNameBoxvalue == "admin"
            ? (errorTips.style.display = "none")
            : (errorTips.style.display = "block");
          passwordBoxvalue == "123456"
            ? (errorTips1.style.display = "none")
            : (errorTips1.style.display = "block");
        } else {
          if (userNameBoxvalue == "admin" && passwordBoxvalue == "123456") {
            message("âœŒ ç™»å½•æˆåŠŸ", "success");
            modal.style.display = "none";
            login_button.style.display = "none";
            user_image.style.display = "flex";
          }
          errorTips.style.display = "none";
          errorTips1.style.display = "none";
        }
      }
      userName.addEventListener("focus", function () {
        userNameTip.classList.add("userNameTipA");
        console.log("ç‚¹å‡»äº†1");
      });
      userName1.addEventListener("focus", function () {
        userNameTip1.classList.add("userNameTipA");
        console.log("ç‚¹å‡»äº†2");
      });
      // å¤±ç„¦äº‹ä»¶å¤„ç†
      userName.addEventListener("blur", function () {
        const val = userName.value;
        if (!val) {
          userNameTip.classList.remove("userNameTipA");
        }
      });
      userName1.addEventListener("blur", function () {
        const val = userName1.value;
        if (!val) {
          userNameTip1.classList.remove("userNameTipA");
        }
      });
      const dropdown = new Dropdown("dropdown-trigger", "dropdown-menu", [
        { label: "ä¸ªäººä¸­å¿ƒ", onClick: () => console.log("Action clicked") },
        {
          label: "è´¦æˆ·ä¿¡æ¯",
          onClick: () => console.log("Another action clicked"),
        },
        {
          label: "æ³¨é”€ç™»å½•",
          onClick: () => {
            login_button.style.display = "block";
            user_image.style.display = "none";
            const dropdown_menu = document.getElementById("dropdown-menu");
            dropdown_menu.style.display = "none";
            userName.value = "";
            userName1.value = "";
            const errorTips =
              document.getElementsByClassName("user_name_tips")[0];
            const errorTips1 =
              document.getElementsByClassName("user_name_password")[0];
            errorTips.style.display = "none";
            errorTips1.style.display = "none";
            returnStep1();
            message("ğŸ‘Œ ä½ å·²é€€å‡ºç™»é™†ï¼", "info");
          },
        },
      ]);

      // éå†æ¸²æŸ“news
      const newsBox_header = document.getElementById("newsBox_header");
      const newsBox_main = document.getElementById("newsBox_main");

      newsBox.forEach((items, index) => {
        const article = document.createElement("article");
        article.className = "newsBox_header_article";
        article.textContent = items.title;
        newsBox_header.appendChild(article);
        if (items.titleCate) {
          items.titleCate.forEach((cates, index) => {
            const titleSpan = document.createElement("span");
            const line = document.createElement("span");
            if (index + 1 !== items.titleCate.length) {
              line.innerHTML = "|";
              line.className = "line";
            }
            titleSpan.className = "newsBox_header_spans";
            titleSpan.textContent = cates.title;
            newsBox_header.appendChild(titleSpan);
            line && newsBox_header.appendChild(line);
          });
        }

        if (items.hotSongs) {
          items.hotSongs.forEach((songs) => {
            const liBox = document.createElement("li");
            liBox.className = "newsBox_main_li";
            // å›¾ç‰‡éƒ¨åˆ†
            const imgDiv = document.createElement("div");
            imgDiv.className = "u-cover";
            const imgEle = document.createElement("img");
            imgEle.className = "newsBox_main_li_img";
            imgEle.src = songs.imgSrc;
            const imgA = document.createElement("a");
            imgA.className = "newsBox_main_li_img_a";
            imgA.href = songs.imgSrc;
            imgA.target = "__blank";
            const imgBottomDiv = document.createElement("div");
            const playIcon = document.createElement("i");
            const icon_headset = document.createElement("span");
            const play_num = document.createElement("span");
            icon_headset.className = "icon_headset";
            playIcon.className = "icon-play";
            play_num.className = "play_num";
            play_num.textContent = songs.playerNum;
            imgBottomDiv.className = "newsBox_main_li_img_bottom";
            // åº•éƒ¨æè¿°éƒ¨åˆ†
            const mainP = document.createElement("p");
            mainP.className = "mainP";
            const mainA = document.createElement("a");
            mainA.className = "mainA";
            mainA.textContent = songs.desc;
            // ä¸ŠåŠéƒ¨åˆ†ç»“æ„
            newsBox_main.appendChild(liBox);
            liBox.appendChild(imgDiv);
            imgDiv.appendChild(imgEle);
            imgDiv.appendChild(imgA);
            imgDiv.appendChild(imgBottomDiv);
            imgBottomDiv.appendChild(playIcon);
            imgBottomDiv.appendChild(icon_headset);
            imgBottomDiv.appendChild(play_num);
            // ä¸‹åŠéƒ¨åˆ†ç»“æ„
            liBox.appendChild(mainP);
            mainP.appendChild(mainA);
          });
        }
      });

      // æ¸²æŸ“newSongList
      const v_hd2 = document.getElementById("v_hd2");
      const n_new_main = document.getElementById("n_new_main");
      const n_new_main_inner = document.createElement("div");
      n_new_main_inner.className = "n_new_main_inner";
      n_new_main.appendChild(n_new_main_inner);

      const n_news_rightA = document.createElement("a");
      const n_news_leftA = document.createElement("a");
      n_news_leftA.className = "n_new_pre";
      n_news_rightA.className = "n_new_next";

      const n_new_main_inner_div = document.createElement("div");
      n_new_main_inner_div.className = "n_new_main_inner_div";
      n_new_main_inner.appendChild(n_new_main_inner_div);
      v_hd2.className = "v_hd2";
      n_new_main_inner_div.appendChild(n_news_leftA);
      newsSongList.forEach((list) => {
        const v_hd2P = document.createElement("p");
        v_hd2P.className = "v_hd2P";
        v_hd2P.textContent = list.title;
        v_hd2.appendChild(v_hd2P);
        list.songs.forEach((items) => {
          const n_new_main_inner_div_ul = document.createElement("div");
          n_new_main_inner_div_ul.className = "n_new_main_inner_div_ul";
          items.lunbo.forEach((lunbo) => {
            const n_new_main_inner_div_ul_li = document.createElement("li");
            n_new_main_inner_div_ul_li.className = "n_new_main_inner_div_ul_li";
            const n_new_main_inner_div_ul_li_div =
              document.createElement("div");
            n_new_main_inner_div_ul_li_div.className =
              "n_new_main_inner_div_ul_li_div";
            const n_new_main_inner_div_ul_li_div_img =
              document.createElement("img");
            n_new_main_inner_div_ul_li_div_img.src = lunbo.imgSrc;
            n_new_main_inner_div_ul_li_div_img.className =
              "n_new_main_inner_div_ul_li_div_img";
            const n_new_main_inner_div_ul_li_div_a = document.createElement(
              "n_new_main_inner_div_ul_li_div_a"
            );
            n_new_main_inner_div_ul_li_div_a.className =
              "n_new_main_inner_div_ul_li_div_a";
            // ä¸‹åŠéƒ¨åˆ†
            const n_new_main_inner_div_ul_li_p = document.createElement(
              "n_new_main_inner_div_ul_li_p"
            );
            n_new_main_inner_div_ul_li_p.textContent = lunbo.songsName;
            n_new_main_inner_div_ul_li_p.className =
              "n_new_main_inner_div_ul_li_p";
            const n_new_main_inner_div_ul_li_p2 = document.createElement(
              "n_new_main_inner_div_ul_li_p"
            );
            n_new_main_inner_div_ul_li_p2.textContent = lunbo.article;
            n_new_main_inner_div_ul_li_p2.className =
              "n_new_main_inner_div_ul_li_p2";
            n_new_main_inner_div_ul.appendChild(n_new_main_inner_div_ul_li);
            n_new_main_inner_div_ul_li.appendChild(
              n_new_main_inner_div_ul_li_div
            );
            n_new_main_inner_div_ul_li_div.appendChild(
              n_new_main_inner_div_ul_li_div_img
            );
            n_new_main_inner_div_ul_li_div.appendChild(
              n_new_main_inner_div_ul_li_div_a
            );
            n_new_main_inner_div_ul_li.appendChild(
              n_new_main_inner_div_ul_li_p
            );
            n_new_main_inner_div_ul_li.appendChild(
              n_new_main_inner_div_ul_li_p2
            );
          });
          n_new_main_inner_div.appendChild(n_new_main_inner_div_ul);
        });
      });
      n_new_main_inner_div.appendChild(n_news_rightA);

      const n_new_main_inner_div_ulList = document.getElementsByClassName(
        "n_new_main_inner_div_ul"
      );
      let idx = 0;

      n_news_leftA.addEventListener("click", () => {
        moveSlide(-1);
      });
      n_news_rightA.addEventListener("click", () => {
        moveSlide(1);
      });
      // åˆå§‹åŒ–è½®æ’­å›¾ä½ç½®
      function initSlides() {
        n_new_main_inner_div_ulList[0].style =
          "left: 0px;transition: left 0.5s ease;";
        n_new_main_inner_div_ulList[1].style =
          "left: 925px;transition: left 0.5s ease;";
        n_new_main_inner_div_ulList[2].style =
          "left:-925px;transition: left 0.5s ease;";
      }
      initSlides(); // åˆå§‹åŒ–è½®æ’­å›¾
      // ç§»åŠ¨è½®æ’­å›¾
      function moveSlide(step) {
        debugger;
        idx += step;
        idx = (idx + 3) % 3; // ç¡®ä¿idxå§‹ç»ˆåœ¨0-2ä¹‹é—´å¾ªç¯
        updateSlides();
      }

      // æ›´æ–°è½®æ’­å›¾ä½ç½®
      function updateSlides() {
        debugger;
        Array.from(n_new_main_inner_div_ulList).forEach((slide, index) => {
          debugger;
          slide.style.left = `${(index - idx) * 925}px`;
        });
      }
    </script>
  </body>
</html>
